{{/* prettier-ignore-start */}}
{{/*###
Handler=/login
TitleBar=Log in
BannerContent=login2.jpg
BannerType=1
*/}}
{{/* prettier-ignore-end */}}
{{ define "tpl" }}
  <div class="ui tiny container">
    {{/* Not logged in block */}}
    {{ if .Context.User.Username }}
      <div class="ui segment">
        {{ .T "You're already logged in!" }}
      </div>
    {{ else }}
      <div>
        <div class="ui raised segments">
          <div class="ui segment">
            <form id="login-form" class="ui form" method="post" action="/login">
              <div class="field">
                <label>{{ .T "Username (or email)" }}</label>
                <input
                  tabindex="1"
                  type="text"
                  name="username"
                  placeholder="{{ .T "eg. Aika" }}"
                  value="{{ .FormData.username }}"
                  required
                />
              </div>
              <div class="field">
                <label>
                  {{ .T "Password" }}
                  <a href="/pwreset">{{ .T "(reset password)" }}</a>
                </label>
                <input
                  tabindex="2"
                  type="password"
                  name="password"
                  placeholder="{{ .T "********" }}"
                  value="{{ .FormData.password }}"
                  required
                />
              </div>
              <input
                type="hidden"
                name="redir"
                value="{{ or (.Gin.Query "redir") .FormData.redir }}"
              />
              {{ ieForm .Gin }}
            </form>
          </div>
          <div class="ui right aligned segment">
            <button
              tabindex="3"
              class="ui primary button"
              type="submit"
              form="login-form"
            >
              {{ .T "Submit" }}
            </button>
          </div>
        </div>
      </div>
    {{ end }}
  </div>
{{ end }}
