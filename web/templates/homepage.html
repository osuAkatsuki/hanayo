{{ define "tpl" }}
  {{ $   := . }}
  <head>
    {{/* Meta tags */}}
    <meta property="og:title" content="home | Akatsuki" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://akatsuki.gg" />
    <meta property="og:image" content="/static/images/logos/logo.png" />
    <meta property="og:site_name" content="Akatsuki" />
    <meta
      property="og:description"
      content="Akatsuki is an osu! private server mainly based around the relax mod - featuring score submission, leaderboards & rankings, custom pp, and much more for relax, autopilot and vanilla osu!"
    />

    {{/* Twitter-specific stuff */}}
    <meta name="twitter:title" content="home | Akatsuki" />
    <meta name="twitter:image" content="/static/logos/logo.png" />
    <meta name="twitter:url" content="https://akatsuki.gg" />
    <meta name="twitter:card" content="" />
  </head>

  <link rel="stylesheet" href="{{ asset "/static/css/pages/home.min.css" }}" />

  <div class="masthead segment bg14">
    <div class="ui container">
      <div class="introduction">
        <div class="ui header small-lineh">
          <div class="library">
            <img src="/static/images/logos/wordmark.svg" alt="Akatsuki" style="height: 60px;"></img>
          </div>
          <div class="tagline">
            <b>Welcome to Akatsuki.</b>
            We are an osu! private server mainly based around the relax mod -
            featuring score submission, leaderboards &amp; rankings, custom pp,
            and much more for relax, autopilot and vanilla osu! We have a
            massive dedicated community between both our osu! and
            <a href="/discord">Discord</a>
            servers.
          </div>
          <div class="buttons">
            <a
              href="{{ if not .Context.User.ID }}
                /register
              {{ else }}
                /u/{{ .Context.User.ID }}
              {{ end }}"
              class="ui small pink button"
            >
              {{ if not .Context.User.ID }}
                Register
              {{ else }}
                Profile
              {{ end }}
            </a>
            <a
              href="{{ if not .Context.User.ID }}
                /doc/connection_guide
              {{ else }}
                /leaderboard
              {{ end }}"
              class="ui small blue button right--margin"
            >
              {{ if not .Context.User.ID }}
                How to connect
              {{ else }}
                View leaderboards
              {{ end }}
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="ui container">
    {{ $set := systemSettings "website_home_alert" }}
    {{ with $set.website_home_alert.String }}
      <div class="ui warning message">
        {{ . | html }}
      </div>
    {{ end }}


    <br />

    {{/* Global Statistics */}}
    <div class="stats-grid">
      <div class="stat-box">
        <p class="stat-value">{{ .T "%s" (rediget "ripple:submitted_scores") | html }}</p>
        <p class="stat-label">Total scores (Vanilla)</p>
      </div>
      <div class="stat-box">
        <p class="stat-value">{{ .T "%s" (rediget "ripple:submitted_scores_relax") | html }}</p>
        <p class="stat-label">Total scores (Relax)</p>
      </div>
      <div class="stat-box">
        <p class="stat-value">{{ .T "%s" (rediget "ripple:submitted_scores_ap") | html }}</p>
        <p class="stat-label">Total scores (Autopilot)</p>
      </div>
      {{ $vanilla_pp := (rediget "akatsuki:top:scores:pp") }}
      {{ $vanilla_id := (rediget "akatsuki:top:scores:id") }}
      {{ $vanilla_name := (rediget "akatsuki:top:scores:name") }}
      <div class="stat-box">
        <p class="stat-value">{{ $vanilla_pp }}pp</p>
        <p class="stat-label">Top score (Vanilla)</p>
        <p class="stat-sub">Played by <a href="/u/{{ $vanilla_id }}?rx=0">{{ $vanilla_name }}</a></p>
      </div>
      {{ $relax_pp := (rediget "akatsuki:top:scores_relax:pp") }}
      {{ $relax_id := (rediget "akatsuki:top:scores_relax:id") }}
      {{ $relax_name := (rediget "akatsuki:top:scores_relax:name") }}
      <div class="stat-box">
        <p class="stat-value">{{ $relax_pp }}pp</p>
        <p class="stat-label">Top score (Relax)</p>
        <p class="stat-sub">Played by <a href="/u/{{ $relax_id }}?rx=1">{{ .T "%s" $relax_name | html }}</a></p>
      </div>
      {{ $ap_pp := (rediget "akatsuki:top:scores_ap:pp") }}
      {{ $ap_id := (rediget "akatsuki:top:scores_ap:id") }}
      {{ $ap_name := (rediget "akatsuki:top:scores_ap:name") }}
      <div class="stat-box">
        <p class="stat-value">{{ $ap_pp }}pp</p>
        <p class="stat-label">Top score (Autopilot)</p>
        <p class="stat-sub">Played by <a href="/u/{{ $ap_id }}?rx=2">{{ .T "%s" $ap_name | html }}</a></p>
      </div>
    </div>
    {{/* Global Stats end past this /div */}}
  </div>
{{ end }}
